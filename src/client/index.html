<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Empire's Legacy - A strategic conquest game">
    <meta name="theme-color" content="#111827">
    
    <title>Empire's Legacy</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/favicon.ico">
    
    <!-- Font preload -->
    <link
        rel="preload"
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
        as="style"
        onload="this.onload=null;this.rel='stylesheet'"
    >
    
    <!-- Fallback for font preload -->
    <noscript>
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
            rel="stylesheet"
            type="text/css"
        >
    </noscript>
</head>
<body>
    <div id="root"></div>
    <!-- Game canvas will be injected here -->
    <div id="game-canvas"></div>
    <!-- Modal root for dialogs -->
    <div id="modal-root"></div>
    <!-- Toast notifications -->
    <div id="toast-root"></div>
    
    <!-- Loading state -->
    <div id="loading" class="hidden fixed inset-0 bg-gray-900 flex items-center justify-center">
        <div class="text-white text-center">
            <div class="animate-spin rounded-full h-32 w-32 border-b-2 border-white"></div>
            <p class="mt-4 text-xl">Loading Empire's Legacy...</p>
        </div>
    </div>

    <!-- Error state -->
    <div id="error" class="hidden fixed inset-0 bg-gray-900 flex items-center justify-center">
        <div class="text-white text-center">
            <h1 class="text-2xl mb-4">Oops! Something went wrong.</h1>
            <p id="error-message" class="text-red-500"></p>
            <button 
                onclick="window.location.reload()" 
                class="mt-4 px-4 py-2 bg-blue-600 rounded hover:bg-blue-700 transition-colors"
            >
                Retry
            </button>
        </div>
    </div>

    <!-- Initial loading script -->
    <script>
        // Show loading screen
        window.addEventListener('load', () => {
            document.getElementById('loading').classList.remove('hidden');
        });

        // Handle loading errors
        window.addEventListener('error', (event) => {
            document.getElementById('loading').classList.add('hidden');
            document.getElementById('error').classList.remove('hidden');
            document.getElementById('error-message').textContent = event.message;
        });
    </script>
</body>
</html>